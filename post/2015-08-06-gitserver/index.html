  <!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>jubalh - jubalh&#39;s blog</title>
		<meta name="viewport" content="width=device-width">

		
		<link rel="stylesheet" href="http://jubalh.github.io/blog/css/syntax.css">
		
		<link rel="stylesheet" href="http://jubalh.github.io/blog/css/main.css">
		
		<link rel="stylesheet" href="http://jubalh.github.io/blog/css/responsive.css">

		
		<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Raleway:300,400,700' rel='stylesheet' type='text/css'>

		
		<link href="" rel="alternate" type="application/rss+xml" title="jubalh&#39;s blog" />
		
		<script src="http://jubalh.github.io/blog/js/jquery.min.js"></script>
	</head>

  <body>
    <div class="sidebar" id="sidebar">
	<div class="header">
		<h1 class="title"><a href="http://jubalh.github.io/blog/"><img id="logo" src="http://jubalh.github.io/blog/images/avatar.jpg"></a></h1>
		<span class="tagline">jubalh's blog<br>a not so mental note</span>
	</div>

	<div class="posts">
		<ul class="posts-list">


<li class="post-link"><a class="post-title" href="http://jubalh.github.io/blog/post/2015-08-06-gitserver/">The dotfiles<span class="post-date">Aug 6, 2015</span></a></br></li>



<li class="post-link"><a class="post-title" href="http://jubalh.github.io/blog/post/2015-07-21-ssh_on_suse/">Enable ssh on openSUSE<span class="post-date">Jul 21, 2015</span></a></br></li>



<li class="post-link"><a class="post-title" href="http://jubalh.github.io/blog/post/2015-07-20-fritzbox/">The Amazing Fritz!Box<span class="post-date">Jul 20, 2015</span></a></br></li>



<li class="post-link"><a class="post-title" href="http://jubalh.github.io/blog/post/2015-05-29-tongue/">tongue<span class="post-date">Apr 29, 2015</span></a></br></li>



<li class="post-link"><a class="post-title" href="http://jubalh.github.io/blog/post/2014-12-13-devlxqttoo/">LXQt development on Funtoo<span class="post-date">Dec 13, 2014</span></a></br></li>



<li class="post-link"><a class="post-title" href="http://jubalh.github.io/blog/post/2014-09-04-changingflag/">Changing Flags<span class="post-date">Sep 4, 2014</span></a></br></li>



<li class="post-link"><a class="post-title" href="http://jubalh.github.io/blog/post/2014-08-15-opensource/">Participate in open source<span class="post-date">Aug 15, 2014</span></a></br></li>



<li class="post-link"><a class="post-title" href="http://jubalh.github.io/blog/post/2014-07-30-launchpad/">Canonical Launchpad<span class="post-date">Jul 30, 2014</span></a></br></li>



<li class="post-link"><a class="post-title" href="http://jubalh.github.io/blog/post/2014-07-16-symfony/">Hear the symfony<span class="post-date">Jul 16, 2014</span></a></br></li>



<li class="post-link"><a class="post-title" href="http://jubalh.github.io/blog/post/2014-05-03-intro/">In A Galaxy Far, Far Away<span class="post-date">May 3, 2014</span></a></br></li>


		</ul>
	</div>
	<div class="footer">
		<span id="footer-links">
			<a href="#" class="footer-link">About</a> <span class="separator">&bull;</span>
			<a href="https://github.com/jubalh" class="footer-link">GitHub</a>
		</span>
	</div>
</div>

    <div class="content-wrapper">
			<div id="cover-photo-container">
				<img id="cover-photo" src="http://jubalh.github.io/blog/images/cover.jpg ">
			</div>
      <div class="content-wrapper__inner">
        <div class="post">
          <h1>The dotfiles</h1>
          <span class="post-date">Thu, Aug 6, 2015</span>
          

<p>I store most of my configuration files <a href="https://github.com/jubalh/dotfiles">publicly</a> on GitHub.
However there are some programs which contain passwords in their config files, among these are irssi, Pidgin and osc.</p>

<p>It was very annoying to always configure those programs from the start on each computer.</p>

<p>So today I took the time and created a small <em>server</em> out of an old netbook.
I switch it on on days I know I need a service on it and leave it off if I don&rsquo;t.</p>

<p>It works as a git server so I can store my <em>private-dotfiles</em> in there. I also configured it to connect to my companies VPN and run irssi on it in a tmux session. This way I can reboot/shutdown my main computer as much as I want or can switch to another computer which I need to do from time to time. I would have used my Raspberry Pi for this, but I turned it into a game station and gave it to someone else.</p>

<h1 id="git:e194c838484cb265d5adc8c16402b63b">Git</h1>

<p>On the netbook I run Funtoo and git was already installed on it.</p>

<p>First I created a new user as which we will log in, and added my public SSH keys to the <em>authorized_keys</em> file:</p>

<pre><code>$: ssh root@avalon
$: useradd git
$: su - git
$: mkdir .ssh
$: chmod 700 .ssh
$: vim .ssh/authorized_keys
</code></pre>

<p>The public SSH key can be found in <code>~/.ssh/id_rsa.pub</code>. So I copied the ones from all of my computers and just pasted them into the file, one after another.
The reason for using SSH keys is that only computers that got registered (which key got added) can access the repos there, so we won&rsquo;t user a password.</p>

<p>I store all git repos in <code>/home/git/</code>. There I create a folder with the suffix <em>.git</em> for each repo:</p>

<pre><code>$: mkdir privatedotfiles.git
$: cd privatedotfiles.git
$: git init --bare

Initialized empty Git repository in /home/git/privaterepos.git/
</code></pre>

<p>From my main machine I now run the following to push my private dotfiles to the server:</p>

<pre><code>$: cd ~/where/my/privatedotfiles/reside
$: git init
$: git add . &amp;&amp; git commit -m &quot;initial&quot;
$: git remote add avalon git@avalon:/home/git/privaterepos.git
$: git push avalon master
</code></pre>

<p>And from all the others I just clone to have it on my machine:</p>

<pre><code>$: git clone git@avalon:/home/git/privaterepos.git

</code></pre>

<p>References: <a href="https://git-scm.com/book/it/v2/Git-on-the-Server-Setting-Up-the-Server">git-scm</a></p>

        </div>
        <footer class="footer"><p>Composed with vim. Published on Thu, Aug 6, 2015 via Hugo.
</br>Â© Michael Vetter</p></footer>

        <section class="post-comments">


</section>

      </div>
    </div>
  </body>
  
</html>
